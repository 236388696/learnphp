<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="box">
    <input type="text"  id="user">
    <input type="text" id="pass">
    <input type="button" value="登录" id="login">
    <input type="button" value="注册" id="reg">
</div>

<script src="ajax.js"></script>
<script>
var user = document.getElementById("user");
var pass = document.getElementById("pass");
var loginBtn = document.getElementById("login");
var regBtn = document.getElementById("reg");
var box= document.getElementById("box");
loginBtn.onclick = function () {
    ajaxFn({
        url:"ajax_post.php",
        data:{
            user:user.value,
            pass:pass.value,
            type:"login"
        },
        type:"post",
        success:function (data) {
            console.log(data);
            var obj =JSON.parse(data);
            if (obj.error ==0){

                box.innerHTML = obj.message;
            }else if (obj.error ==1){
                box.innerHTML = obj.message;
            }

    }

    })
}

regBtn.onclick = function () {
    ajaxFn({
        url:"ajax_post.php",
        data:{
            user:user.value,
            pass:pass.value,
            type:"reg"
        },
        type:"post",
        success:function (data) {
            var obj =JSON.parse(data);
            if (obj.error ==0){
                console.log(data);
                box.innerHTML = obj.message;
            }
        }
    })
}

</script>


</body>
</html>