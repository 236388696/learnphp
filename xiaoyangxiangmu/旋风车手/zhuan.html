<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            height: 100%;
        }
        .wrap{
            width: 100%;
            height: 100%;
            background: url(img/13_bg.jpg);
            background-size: 100% 100%;
        }
        .wrap_pan{
            width: 100%;

        }

        .ready{
            width: 20.833%;
            position: absolute;
            top: 39%;
            left: 39%;
        }
        .zhuan img{
            width: 18.9722%;
            position: absolute;
            top: 63%;
            left: 0%;
        }
        .zhuan{
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            /*background-color: saddlebrown;*/
        }
        .pan{
            width: 89.16666%;
            position: absolute;
            top: 10%;
            left: 6%;
        }
    </style>
</head>
<body>
<div class="wrap">
    <div class="pan">
        <img class="wrap_pan" src="img/13_zhuanpan.png"/>

        <div class="zhuan">
            <img src="img/13_car.png"/>
        </div>
        <img class="ready" src="img/13_readyGo.png"/>
    </div>
</div>
<script src="js/jquery-2.2.3.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    $(document).on("touchstart",function(e){
        e.preventDefault();
    })
    $(".ready").on("touchstart",function(){
        $.ajax({
            url:"zhuan.php",
            type:"get",
            dataType:"json",
            success:function (data) {
                console.log(num.data)
              num =  data.num
            }
        });



        var num = -1;
        var deg = 0;
        timer = setInterval(function(){

            deg+=5;
            $(".zhuan").css(
                    {"transform":"rotate("+deg+"deg)"}
            );
            if (deg>=720) {
                if (deg%360 >= 360/12*num) {
                    clearInterval(timer)
                }

            }
        },20)
    })
</script>
</body>
</html>








